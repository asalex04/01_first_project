(this.webpackJsonpreact_01=this.webpackJsonpreact_01||[]).push([[3],{301:function(t,e,s){t.exports={content:"ProfileInfo_content__2Io2G",descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y"}},302:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},303:function(t,e,s){t.exports={item:"MyPost_item__2ziNI"}},304:function(t,e,s){"use strict";s.r(e);var a=s(5),o=s(36),n=s(37),i=s(40),c=s(39),r=s(0),u=s.n(r),d=s(17),p=s(301),j=s.n(p),l=s(50),h=s(1),b=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){var t;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(n.a)(s,[{key:"componentDidUpdate",value:function(t,e,s){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(h.jsx)("div",{children:this.state.editMode?Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})}):Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"status"})})})}}]),s}(u.a.Component),f=function(t){var e=t.profile,s=t.status,a=t.updateStatus;return e?Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:j.a.descriptionBlock,children:[Object(h.jsx)("img",{src:e.photos.large,alt:"img"}),Object(h.jsx)(b,{status:s.data,updateStatus:a})]})}):Object(h.jsx)(l.a,{})},O=s(98),x=s(67),v=s.n(x),m=s(302),g=s.n(m),_=s(303),S=s.n(_),P=function(t){return Object(h.jsxs)("div",{className:S.a.item,children:[Object(h.jsx)("img",{src:t.ava,alt:""}),t.message,Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:["like ",t.count]})})]})},k=s(92),y=s(128),M=s(89),B=s(35),I=Object(M.a)(10),w=function(t){return Object(h.jsxs)("div",{className:g.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(C,{onSubmit:function(e){t.addPost(e.newPostBody)}}),Object(h.jsx)("div",{className:g.a.posts,children:t.posts.map((function(t){return Object(h.jsx)(P,{message:t.text,count:t.likesCount,ava:"https://friendtok.com/upload/photos/2021/03/BlRShw5IG5475RTXDDug_13_a14f8774a0d7d770faff995ddbbac266_avatar_full.jpg"},v.a.uniqueId())}))})]})},C=Object(y.a)({form:"addNewPostForm"})((function(t){return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(k.a,{component:B.c,name:"newPostBody",placeholder:"PostMessage",validate:[M.b,I]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Add post"})})]})})})),N=u.a.memo(w),D=Object(d.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(O.a)(e))}}}))(N),U=function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(h.jsx)(D,{})]})},A=s(11),E=s(9),T=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(h.jsx)(U,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(E.d)(Object(d.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:O.d,getStatus:O.c,updateStatus:O.e}),A.f)(T)}}]);
//# sourceMappingURL=3.45cf58dd.chunk.js.map